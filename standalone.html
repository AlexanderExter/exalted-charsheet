<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exalted: Essence Character Manager</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Configure Tailwind
        tailwind.config = {
            theme: {
                extend: {}
            }
        }
    </script>
    <style>
        /* Additional styles if needed */
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        // Simplified icons (replacing lucide-react)
        const Plus = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
        const User = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="12" r="4"></circle></svg>;
        const Trash2 = () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="3,6 5,6 21,6"></polyline><path d="m19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"></path></svg>;

        // Simplified Character Manager Component
        const ExaltedCharacterManager = () => {
            const [characters, setCharacters] = React.useState([]);
            const [currentCharacter, setCurrentCharacter] = React.useState(null);
            const [showCharacterSelect, setShowCharacterSelect] = React.useState(true);
            const [newCharacterName, setNewCharacterName] = React.useState('');

            // Create new character function
            const createNewCharacter = (name) => ({
                id: Date.now(),
                name,
                attributes: {
                    fortitude: { base: 1, added: 0, bonus: 0 },
                    finesse: { base: 1, added: 0, bonus: 0 },
                    force: { base: 1, added: 0, bonus: 0 }
                },
                abilities: {
                    athletics: { base: 0, added: 0, bonus: 0 },
                    awareness: { base: 0, added: 0, bonus: 0 },
                    closeCombat: { base: 0, added: 0, bonus: 0 },
                    craft: { base: 0, added: 0, bonus: 0 }
                },
                essence: {
                    motes: 5,
                    commitments: 0,
                    spent: 0,
                    anima: 0,
                    rating: 1
                }
            });

            const handleCreateCharacter = () => {
                if (!newCharacterName.trim()) return;
                
                const newChar = createNewCharacter(newCharacterName.trim());
                setCharacters(prev => [...prev, newChar]);
                setCurrentCharacter(newChar);
                setNewCharacterName('');
                setShowCharacterSelect(false);
            };

            if (showCharacterSelect || !currentCharacter) {
                return (
                    <div className="max-w-4xl mx-auto p-6 bg-gray-50 min-h-screen">
                        <div className="bg-white rounded-lg shadow-lg p-8">
                            <h1 className="text-3xl font-bold text-gray-800 mb-8 text-center">
                                Exalted: Essence Character Manager
                            </h1>
                            
                            <div className="mb-8 p-6 bg-blue-50 rounded-lg">
                                <h2 className="text-xl font-semibold mb-4">Create New Character</h2>
                                <div className="flex gap-3">
                                    <input
                                        type="text"
                                        value={newCharacterName}
                                        onChange={(e) => setNewCharacterName(e.target.value)}
                                        placeholder="Character name..."
                                        className="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        onKeyPress={(e) => e.key === 'Enter' && handleCreateCharacter()}
                                    />
                                    <button
                                        onClick={handleCreateCharacter}
                                        className="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2"
                                    >
                                        <Plus size={18} />
                                        Create
                                    </button>
                                </div>
                            </div>

                            {characters.length > 0 && (
                                <div>
                                    <h2 className="text-xl font-semibold mb-4">Existing Characters</h2>
                                    <div className="grid gap-3">
                                        {characters.map(character => (
                                            <div key={character.id} className="p-4 bg-gray-50 rounded-lg flex items-center justify-between">
                                                <div className="flex items-center gap-3">
                                                    <User size={20} />
                                                    <span className="font-medium">{character.name}</span>
                                                </div>
                                                <button
                                                    onClick={() => {
                                                        setCurrentCharacter(character);
                                                        setShowCharacterSelect(false);
                                                    }}
                                                    className="px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700"
                                                >
                                                    Select
                                                </button>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {characters.length === 0 && (
                                <div className="text-center py-12">
                                    <User size={64} className="mx-auto text-gray-400 mb-4" />
                                    <p className="text-gray-500 text-lg">No characters yet. Create your first character above!</p>
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            return (
                <div className="max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen">
                    <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                        <div className="flex items-center justify-between">
                            <h1 className="text-2xl font-bold text-gray-800">{currentCharacter.name}</h1>
                            <button
                                onClick={() => setShowCharacterSelect(true)}
                                className="px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"
                            >
                                Switch Character
                            </button>
                        </div>
                    </div>

                    <div className="bg-white rounded-lg shadow-lg p-6">
                        <h2 className="text-xl font-semibold mb-4">Character Sheet</h2>
                        <div className="grid md:grid-cols-3 gap-6">
                            <div>
                                <h3 className="font-semibold mb-2">Attributes</h3>
                                {Object.entries(currentCharacter.attributes).map(([key, stat]) => (
                                    <div key={key} className="flex items-center justify-between py-1">
                                        <span className="capitalize">{key}:</span>
                                        <span className="font-mono">{stat.base + stat.added + stat.bonus}</span>
                                    </div>
                                ))}
                            </div>
                            <div>
                                <h3 className="font-semibold mb-2">Abilities</h3>
                                {Object.entries(currentCharacter.abilities).map(([key, stat]) => (
                                    <div key={key} className="flex items-center justify-between py-1">
                                        <span className="capitalize">{key.replace(/([A-Z])/g, ' $1')}:</span>
                                        <span className="font-mono">{stat.base + stat.added + stat.bonus}</span>
                                    </div>
                                ))}
                            </div>
                            <div>
                                <h3 className="font-semibold mb-2">Essence</h3>
                                <div className="flex items-center justify-between py-1">
                                    <span>Rating:</span>
                                    <span className="font-mono">{currentCharacter.essence.rating}</span>
                                </div>
                                <div className="flex items-center justify-between py-1">
                                    <span>Motes:</span>
                                    <span className="font-mono">{currentCharacter.essence.motes}</span>
                                </div>
                                <div className="flex items-center justify-between py-1">
                                    <span>Anima:</span>
                                    <span className="font-mono">{currentCharacter.essence.anima}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div className="mt-6 p-4 bg-green-50 rounded-lg">
                            <h3 className="font-semibold text-green-800 mb-2">âœ… Application Working!</h3>
                            <p className="text-green-700">
                                This is a simplified demo version. The full application includes all 8 tabs with complete 
                                Exalted: Essence mechanics, equipment management, dice pools, import/export, and more!
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<ExaltedCharacterManager />, document.getElementById('root'));
    </script>
</body>
</html>